<!doctype html>
<html lang="en">
<body>

<app-header [pageTitle]="'Skills'"></app-header>

<main>

<div class="card card-clean mb-4 shadow-box">
    <div class="card-header bg-contrast">
        <!-- Dynamically display the context (User or Stage) in the header -->
        <h5 class="bold">Add Competence to {{ context === 'user' ? 'User' : 'Stage' }}</h5>
    </div>
    <div class="card-body">
        <form #addCompForm="ngForm" (ngSubmit)="addComp()" class="cozy" novalidate>
            <div class="form-group">
                <label for="competenceName" class="form-label mb-0">Competence Name</label>
                <input type="text" class="form-control" id="competenceName" placeholder="Enter your Competence" 
                       [(ngModel)]="competences.name" name="name" required>
                <div *ngIf="addCompForm.form.get('name')?.errors?.['required'] && addCompForm.form.get('name')?.touched" class="text-danger">
                    Competence Name is required.
                </div>
            </div>
            
            <div class="form-group">
                <label for="competenceLevel" class="form-label">Your Level</label>
                <select class="form-select form-control-rounded" id="competenceLevel" 
                        [(ngModel)]="competences.importanceLevel" name="level" required>
                    <option value="" disabled selected>Select your level</option>
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                </select>
                <div *ngIf="addCompForm.form.get('level')?.errors?.['required'] && addCompForm.form.get('level')?.touched" class="text-danger">
                    Level is required.
                </div>
            </div>
           
            <div class="form-group">
                <label for="competenceDescription" class="form-label">Description</label>
                <textarea class="form-control form-control-rounded" id="competenceDescription" rows="3" 
                          [(ngModel)]="competences.description" name="description" required></textarea>
                <div *ngIf="addCompForm.form.get('description')?.errors?.['required'] && addCompForm.form.get('description')?.touched" class="text-danger">
                    Description is required.
                </div>
            </div>

            <!-- New fields for the additional attributes -->
            <div class="form-group">
                <label for="proficiencyLevel" class="form-label">Proficiency Level (1-10)</label>
                <input type="number" class="form-control" id="proficiencyLevel"
                       [(ngModel)]="competences.proficiencyLevel" name="proficiencyLevel" required>
            </div>

            <div class="form-group">
                <label for="yearsExperience" class="form-label">Years of Experience</label>
                <input type="number" class="form-control" id="yearsExperience"
                       [(ngModel)]="competences.yearsOfExperience" name="yearsExperience" required>
            </div>

            <div class="form-group">
                <label for="certification" class="form-label">Certification</label>
                <input type="checkbox" id="certification"
                       [(ngModel)]="competences.certification" name="certification">
            </div>

            <div class="form-group">
                <label for="lastUsed" class="form-label">Last Used (Date)</label>
                <input type="date" class="form-control" id="lastUsed"
                       [(ngModel)]="competences.lastUsed" name="lastUsed" required>
            </div>

            <div class="form-group">
                <label for="industryRelevance" class="form-label">Industry Relevance</label>
                <input type="text" class="form-control" id="industryRelevance"
                       [(ngModel)]="competences.industryRelevance" name="industryRelevance" required>
            </div>
            
            <div class="me-5 mb-3">
                <button type="submit" class="btn btn-rounded btn-outline-success" [disabled]="!addCompForm.valid">ADD</button>
            </div>
        </form>
    </div>
</div>

</main>

<app-footer></app-footer>
</body>
</html>
