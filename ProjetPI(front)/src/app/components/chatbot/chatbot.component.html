<!doctype html>
<html lang="en">

<body>
<app-header [pageTitle]="'ChatBot'"></app-header>
<div class="container" >
  <main>
    <section class="section">

      <div class="chat">
        <div class="chat-title">
          <h2>Abigail ChatBot Assistant</h2>
          <figure class="avatar">
            <img src=" assets/esprit.jpg" />
          </figure>


        </div>

        <div class="messages">
          <div class="messages-content">
            <!-- Messages will be dynamically added here -->
          </div>
        </div>

        <form [formGroup]="chatForm" (ngSubmit)="add()">
          <div class="message-box">
            <textarea type="text" class="message-input" formControlName="message" placeholder="Type message..." (keydown.enter)="add() "></textarea>
            <button type="submit" class="message-submit sound-on-click">Send</button>


        <!-- Start Listening -->
            <button id="start-btn" class="voice-button" (click)="startListening()">
              <img *ngIf="isMicIconActive" src="assets/micro.ico" alt="Voice Icon" class="voice-icon">
              <img *ngIf="!isMicIconActive" src="assets/micon.ico" alt="Voice Icon" class="voice-icon">
            </button>

            <!-- Stop Listening -->
            <button id="stop-btn" (click)="stopListening()" (mouseenter)="toggleStopIcon()" (mouseleave)="toggleStopIcon()" style="display:none;">
              <img *ngIf="!isStopIconActive" src="assets/micon.ico" alt="Voice Icon" class="voice-icon">
              <img *ngIf="isStopIconActive" src="assets/micoff.ico" alt="Voice Icon" class="voice-icon">
            </button>


          </div>
        </form>
      </div>
      <div class="bg"></div>
    </section>
  </main>
</div>
<app-footer></app-footer>
</body>

</html>
